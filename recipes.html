<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الوصفات الطبيعية - Ribio | منصة جزائرية للمنتجات الطبيعية</title>
    <meta name="description" content="وصفات طبيعية منزلية للعناية بالبشرة، الشعر، والصحة. تعلم كيف تصنع منتجاتك الطبيعية بمكونات بسيطة وفعالة">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Core Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    
    <style>
        :root {
            --forest-green: #2D5016;
            --sage-green: #87A96B;
            --warm-cream: #F8F6F0;
            --rich-earth: #8B4513;
            --soft-mint: #E8F5E8;
            --golden-honey: #DAA520;
            --charcoal-gray: #36454F;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--warm-cream);
            color: var(--charcoal-gray);
        }
        
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(45, 80, 22, 0.15);
        }
        
        .btn-primary {
            background-color: var(--forest-green);
            color: var(--warm-cream);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background-color: var(--sage-green);
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(45, 80, 22, 0.3);
        }
        
        .btn-secondary {
            border: 2px solid var(--sage-green);
            color: var(--sage-green);
            background: transparent;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background-color: var(--sage-green);
            color: var(--warm-cream);
            transform: scale(1.05);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, var(--forest-green), var(--sage-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .recipe-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(45, 80, 22, 0.1);
            transition: all 0.4s ease;
        }
        
        .recipe-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(45, 80, 22, 0.2);
        }
        
        .ingredient-card {
            background: var(--soft-mint);
            border-radius: 16px;
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .ingredient-card:hover {
            background: var(--sage-green);
            color: white;
            transform: scale(1.05);
            border-color: var(--forest-green);
        }
        
        .ingredient-card.selected {
            background: var(--forest-green);
            color: white;
            border-color: var(--golden-honey);
        }
        
        .step-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(45, 80, 22, 0.1);
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }
        
        .step-card.active {
            background: var(--soft-mint);
            border-left: 4px solid var(--forest-green);
        }
        
        .timer-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(var(--forest-green) 0deg, var(--soft-mint) 0deg);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .timer-inner {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .category-tab {
            background: var(--soft-mint);
            color: var(--forest-green);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .category-tab:hover {
            background: var(--sage-green);
            color: white;
        }
        
        .category-tab.active {
            background: var(--forest-green);
            color: white;
            border-color: var(--golden-honey);
        }
        
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            right: 0;
            width: 0;
            height: 2px;
            background-color: var(--sage-green);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .cart-badge {
            background-color: var(--golden-honey);
            color: white;
            font-size: 0.75rem;
            min-width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: -8px;
            left: -8px;
        }
        
        .recipe-builder {
            background: white;
            border-radius: 24px;
            box-shadow: 0 12px 30px rgba(45, 80, 22, 0.15);
            overflow: hidden;
        }
        
        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--soft-mint);
            color: var(--forest-green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .progress-step.active {
            background: var(--forest-green);
            color: white;
        }
        
        .progress-step.completed {
            background: var(--sage-green);
            color: white;
        }
        
        .rating-stars {
            color: var(--golden-honey);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md border-b border-sage-green/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <h1 class="font-display text-2xl font-bold text-gradient">Ribio</h1>
                    <span class="ml-2 text-sm text-sage-green">🌿</span>
                </div>
                
                <!-- Navigation Links -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="nav-link text-charcoal-gray hover:text-sage-green">الرئيسية</a>
                    <a href="products.html" class="nav-link text-charcoal-gray hover:text-sage-green">المنتجات</a>
                    <a href="recipes.html" class="nav-link text-forest-green font-medium">الوصفات</a>
                    <a href="education.html" class="nav-link text-charcoal-gray hover:text-sage-green">التعليم</a>
                </div>
                
                <!-- Cart & Search -->
                <div class="flex items-center space-x-4">
                    <button class="text-charcoal-gray hover:text-sage-green transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                    <button class="relative text-charcoal-gray hover:text-sage-green transition-colors" onclick="toggleCart()">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9m-9 0h9"></path>
                        </svg>
                        <span id="cart-badge" class="cart-badge hidden">0</span>
                    </button>
                    
                    <!-- Mobile Menu Button -->
                    <button class="md:hidden text-charcoal-gray hover:text-sage-green">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="pt-24 pb-12 bg-gradient-to-br from-sage-green/10 to-forest-green/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center fade-in">
                <h1 class="font-display text-4xl lg:text-6xl font-bold text-forest-green mb-6">وصفات طبيعية منزلية</h1>
                <p class="text-xl text-charcoal-gray max-w-3xl mx-auto">
                    تعلم كيف تصنع منتجاتك الطبيعية الخاصة بمكونات بسيطة ومتوفرة في مطبخك
                </p>
            </div>
        </div>
    </section>

    <!-- Recipe Builder Section -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 fade-in">
                <h2 class="font-display text-3xl font-bold text-forest-green mb-4">صانع الوصفات التفاعلي</h2>
                <p class="text-lg text-charcoal-gray">اختر مكوناتك وتابع الخطوات لصنع وصفاتك الخاصة</p>
            </div>
            
            <div class="recipe-builder fade-in">
                <!-- Progress Bar -->
                <div class="bg-soft-mint p-6">
                    <div class="flex items-center justify-center space-x-8">
                        <div class="flex items-center">
                            <div class="progress-step active" id="step-1">1</div>
                            <span class="mr-2 font-semibold text-forest-green">اختيار المكونات</span>
                        </div>
                        <div class="w-12 h-1 bg-sage-green/30"></div>
                        <div class="flex items-center">
                            <div class="progress-step" id="step-2">2</div>
                            <span class="mr-2 font-semibold text-charcoal-gray">التحضير</span>
                        </div>
                        <div class="w-12 h-1 bg-sage-green/30"></div>
                        <div class="flex items-center">
                            <div class="progress-step" id="step-3">3</div>
                            <span class="mr-2 font-semibold text-charcoal-gray">النتائج</span>
                        </div>
                    </div>
                </div>
                
                <!-- Builder Content -->
                <div class="p-8">
                    <div id="builder-content">
                        <!-- Step 1: Ingredients Selection -->
                        <div id="step-ingredients" class="builder-step">
                            <h3 class="font-display text-2xl font-bold text-forest-green mb-6 text-center">اختر مكوناتك المفضلة</h3>
                            
                            <div class="grid md:grid-cols-3 gap-8">
                                <!-- Base Ingredients -->
                                <div>
                                    <h4 class="font-bold text-sage-green mb-4">المكونات الأساسية</h4>
                                    <div class="space-y-3">
                                        <div class="ingredient-card" data-ingredient="honey">
                                            <div class="text-2xl mb-2">🍯</div>
                                            <h5 class="font-semibold">العسل الطبيعي</h5>
                                            <p class="text-sm opacity-80">مرطب طبيعي</p>
                                        </div>
                                        <div class="ingredient-card" data-ingredient="yogurt">
                                            <div class="text-2xl mb-2">🥛</div>
                                            <h5 class="font-semibold">اللبن الطبيعي</h5>
                                            <p class="text-sm opacity-80">مغذي ومهدئ</p>
                                        </div>
                                        <div class="ingredient-card" data-ingredient="oats">
                                            <div class="text-2xl mb-2">🌾</div>
                                            <h5 class="font-semibold">الشوفان</h5>
                                            <p class="text-sm opacity-80">مقشر لطيف</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Active Ingredients -->
                                <div>
                                    <h4 class="font-bold text-sage-green mb-4">المكونات النشطة</h4>
                                    <div class="space-y-3">
                                        <div class="ingredient-card" data-ingredient="turmeric">
                                            <div class="text-2xl mb-2">🟡</div>
                                            <h5 class="font-semibold">الكركم</h5>
                                            <p class="text-sm opacity-80">مضاد التهابات</p>
                                        </div>
                                        <div class="ingredient-card" data-ingredient="aloe">
                                            <div class="text-2xl mb-2">🌿</div>
                                            <h5 class="font-semibold">الصبار</h5>
                                            <p class="text-sm opacity-80">مرطب ومهدئ</p>
                                        </div>
                                        <div class="ingredient-card" data-ingredient="rose">
                                            <div class="text-2xl mb-2">🌹</div>
                                            <h5 class="font-semibold">ماء الورد</h5>
                                            <p class="text-sm opacity-80">منعش ومضاد</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Essential Oils -->
                                <div>
                                    <h4 class="font-bold text-sage-green mb-4">الزيوت الأساسية</h4>
                                    <div class="space-y-3">
                                        <div class="ingredient-card" data-ingredient="lavender">
                                            <div class="text-2xl mb-2">💜</div>
                                            <h5 class="font-semibold">زيت اللافندر</h5>
                                            <p class="text-sm opacity-80">مهدئ ومنعش</p>
                                        </div>
                                        <div class="ingredient-card" data-ingredient="tea-tree">
                                            <div class="text-2xl mb-2">🌿</div>
                                            <h5 class="font-semibold">شجرة الشاي</h5>
                                            <p class="text-sm opacity-80">مضاد بكتيري</p>
                                        </div>
                                        <div class="ingredient-card" data-ingredient="argan">
                                            <div class="text-2xl mb-2">🥜</div>
                                            <h5 class="font-semibold">زيت الأركان</h5>
                                            <p class="text-sm opacity-80">مغذي عميق</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="text-center mt-8">
                                <button onclick="nextStep()" class="btn-primary px-8 py-3 rounded-full font-semibold" disabled id="next-btn">
                                    التالي: تحضير الوصفة
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 2: Preparation -->
                        <div id="step-preparation" class="builder-step hidden">
                            <h3 class="font-display text-2xl font-bold text-forest-green mb-6 text-center">تحضير الوصفة</h3>
                            
                            <div id="recipe-steps" class="max-w-3xl mx-auto">
                                <!-- Steps will be generated based on selected ingredients -->
                            </div>
                            
                            <div class="text-center mt-8">
                                <button onclick="nextStep()" class="btn-primary px-8 py-3 rounded-full font-semibold">
                                    التالي: النتائج
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 3: Results -->
                        <div id="step-results" class="builder-step hidden">
                            <h3 class="font-display text-2xl font-bold text-forest-green mb-6 text-center">وصفتك الطبيعية</h3>
                            
                            <div id="final-recipe" class="max-w-3xl mx-auto">
                                <!-- Final recipe will be displayed here -->
                            </div>
                            
                            <div class="text-center mt-8 space-x-4">
                                <button onclick="saveRecipe()" class="btn-primary px-6 py-3 rounded-full font-semibold">
                                    حفظ الوصفة
                                </button>
                                <button onclick="shareRecipe()" class="btn-secondary px-6 py-3 rounded-full font-semibold">
                                    مشاركة الوصفة
                                </button>
                                <button onclick="resetBuilder()" class="btn-secondary px-6 py-3 rounded-full font-semibold">
                                    وصفة جديدة
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Recipe Categories -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 fade-in">
                <h2 class="font-display text-3xl font-bold text-forest-green mb-4">وصفاتنا المميزة</h2>
                <p class="text-lg text-charcoal-gray">اختر نوع الوصفة التي تبحث عنها</p>
            </div>
            
            <!-- Category Tabs -->
            <div class="flex flex-wrap justify-center gap-4 mb-12 fade-in">
                <button class="category-tab active" onclick="filterRecipes('all')">الكل</button>
                <button class="category-tab" onclick="filterRecipes('skincare')">العناية بالبشرة</button>
                <button class="category-tab" onclick="filterRecipes('haircare')">العناية بالشعر</button>
                <button class="category-tab" onclick="filterRecipes('health')">الصحة العامة</button>
                <button class="category-tab" onclick="filterRecipes('wellness')">العافية</button>
            </div>
            
            <!-- Recipes Grid -->
            <div id="recipes-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Recipes will be loaded here dynamically -->
            </div>
        </div>
    </section>

    <!-- Featured Recipes Carousel -->
    <section class="py-16 hero-bg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 fade-in">
                <h2 class="font-display text-3xl font-bold text-forest-green mb-4">أكثر الوصفات شعبية</h2>
                <p class="text-lg text-charcoal-gray">وصفات محبوبة من مجتمع ريبيو</p>
            </div>
            
            <div class="splide fade-in" id="popular-recipes">
                <div class="splide__track">
                    <ul class="splide__list" id="popular-recipes-list">
                        <!-- Popular recipes will be loaded here -->
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Tips and Tricks -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 fade-in">
                <h2 class="font-display text-3xl font-bold text-forest-green mb-4">نصائح وأسرار</h2>
                <p class="text-lg text-charcoal-gray">نصائح من الخبراء لنجاح وصفاتك الطبيعية</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-soft-mint rounded-2xl p-6 fade-in">
                    <div class="text-3xl mb-4">🌡️</div>
                    <h3 class="font-display text-xl font-bold text-forest-green mb-3">الحرارة المثالية</h3>
                    <p class="text-charcoal-gray">احرص على استخدام المكونات في درجة حرارة الغرفة للحصول على أفضل النتائج</p>
                </div>
                
                <div class="bg-soft-mint rounded-2xl p-6 fade-in" style="animation-delay: 0.1s;">
                    <div class="text-3xl mb-4">⏰</div>
                    <h3 class="font-display text-xl font-bold text-forest-green mb-3">التوقيت المهم</h3>
                    <p class="text-charcoal-gray">اتبع أوقات التحضير والانتظار بدقة للحصول على فعالية مثالية</p>
                </div>
                
                <div class="bg-soft-mint rounded-2xl p-6 fade-in" style="animation-delay: 0.2s;">
                    <div class="text-3xl mb-4">🔬</div>
                    <h3 class="font-display text-xl font-bold text-forest-green mb-3">اختبار الحساسية</h3>
                    <p class="text-charcoal-gray">اختبر الوصفة على منطقة صغيرة من الجلد قبل الاستخدام الكامل</p>
                </div>
                
                <div class="bg-soft-mint rounded-2xl p-6 fade-in" style="animation-delay: 0.3s;">
                    <div class="text-3xl mb-4">💧</div>
                    <h3 class="font-display text-xl font-bold text-forest-green mb-3">الترطيب المستمر</h3>
                    <p class="text-charcoal-gray">رطّب بشرتك بعد استخدام أي وصفة لتعزيز الفوائد ومنع الجفاف</p>
                </div>
                
                <div class="bg-soft-mint rounded-2xl p-6 fade-in" style="animation-delay: 0.4s;">
                    <div class="text-3xl mb-4">🌿</div>
                    <h3 class="font-display text-xl font-bold text-forest-green mb-3">الجودة أولاً</h3>
                    <p class="text-charcoal-gray">استخدم دائماً مكونات عضوية وطازجة لأفضل النتائج</p>
                </div>
                
                <div class="bg-soft-mint rounded-2xl p-6 fade-in" style="animation-delay: 0.5s;">
                    <div class="text-3xl mb-4">📅</div>
                    <h3 class="font-display text-xl font-bold text-forest-green mb-3">المدة الصلاحية</h3>
                    <p class="text-charcoal-gray">احفظ الوصفات في الثلاجة واستخدمها خلال 3-5 أيام للحفاظ على الفعالية</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Shopping Cart Sidebar -->
    <div id="cart-sidebar" class="fixed top-0 left-0 h-full w-96 bg-white shadow-2xl transform -translate-x-full transition-transform duration-300 z-50">
        <div class="p-6 border-b border-gray-200">
            <div class="flex justify-between items-center">
                <h3 class="font-display text-xl font-bold text-forest-green">سلة التسوق</h3>
                <button onclick="toggleCart()" class="text-charcoal-gray hover:text-sage-green text-2xl">&times;</button>
            </div>
        </div>
        
        <div id="cart-items" class="flex-1 overflow-y-auto p-6">
            <p class="text-charcoal-gray text-center">سلة التسوق فارغة</p>
        </div>
        
        <div class="border-t border-gray-200 p-6">
            <div class="flex justify-between items-center mb-4">
                <span class="font-bold text-lg">الإجمالي:</span>
                <span id="cart-total" class="font-bold text-xl text-forest-green">0 دج</span>
            </div>
            <button class="btn-primary w-full py-3 rounded-full font-semibold">
                إتمام الطلب
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-forest-green text-warm-cream py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h3 class="font-display text-3xl font-bold mb-4">Ribio</h3>
                <p class="text-lg mb-6">منصتك الجزائرية للمنتجات الطبيعية والعناية الصحية</p>
                
                <div class="flex justify-center space-x-6 mb-8">
                    <a href="#" class="text-warm-cream hover:text-sage-green transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                        </svg>
                    </a>
                    <a href="#" class="text-warm-cream hover:text-sage-green transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
                        </svg>
                    </a>
                    <a href="#" class="text-warm-cream hover:text-sage-green transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.347-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.012.001z.017 0z"/>
                        </svg>
                    </a>
                </div>
                
                <p class="text-sm text-warm-cream/80">
                    © 2024 Ribio. جميع الحقوق محفوظة. | منصة جزائرية للمنتجات الطبيعية
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Recipe Builder State
        let currentStep = 1;
        let selectedIngredients = [];
        let recipeData = {};
        let currentRecipeCategory = 'all';

        // Recipe Database
        const recipesDatabase = [
            {
                id: 'honey-turmeric-mask',
                name: 'قناع العسل والكركم المضيء',
                category: 'skincare',
                difficulty: 'سهل',
                time: '15 دقيقة',
                rating: 4.8,
                image: 'resources/wellness-ingredients.jpg',
                description: 'قناع طبيعي لتوحيد لون البشرة وإضاءتها بفضل العسل والكركم',
                ingredients: ['عسل طبيعي', 'كركم', 'لبن طبيعي'],
                steps: [
                    'اخلط ملعقة كبيرة من العسل مع نصف ملعقة صغيرة من الكركم',
                    'أضف ملعقة صغيرة من اللبن الطبيعي',
                    'امزج المكونات جيداً حتى تحصل على قوام متجانس',
                    'ضع القناع على وجهك النظيف لمدة 15 دقيقة',
                    'اشطف بالماء الفاتر وجفف بلطف'
                ],
                benefits: ['توحيد لون البشرة', 'مكافحة التهابات', 'ترطيب عميق'],
                popular: true
            },
            {
                id: 'argan-hair-mask',
                name: 'قناع الأركان لتقوية الشعر',
                category: 'haircare',
                difficulty: 'سهل',
                time: '30 دقيقة',
                rating: 4.7,
                image: 'resources/product-oils.jpg',
                description: 'قناع مغذي بزيت الأركان لشعر قوي ولامع',
                ingredients: ['زيت أركان', 'زيت جوز الهند', 'عسل', 'صفار بيضة'],
                steps: [
                    'اخلط 2 ملعقة كبيرة من زيت الأركان مع ملعقة من جوز الهند',
                    'أضف ملعقة صغيرة من العسل وصفار البيضة',
                    'امزج المكونات جيداً ودفئها قليلاً',
                    'ضع الخليط على شعرك من الجذور حتى الأطراف',
                    'اتركه لمدة 30 دقيقة ثم اغسله بالشامبو'
                ],
                benefits: ['تقوية الشعر', 'منع التساقط', 'إضافة اللمعان'],
                popular: true
            },
            {
                id: 'lavender-sleep-oil',
                name: 'زيت اللافندر للنوم العميق',
                category: 'wellness',
                difficulty: 'سهل جداً',
                time: '5 دقائق',
                rating: 4.9,
                image: 'resources/product-oils.jpg',
                description: 'مزيج من الزيوت الأساسية للاسترخاء وتحسين جودة النوم',
                ingredients: ['زيت لافندر', 'زيت شمّر', 'زيت ياسمين', 'زيت ناقل'],
                steps: [
                    'اخلط 5 قطرات من زيت اللافندر مع قطرتين من الشمر',
                    'أضف قطرة واحدة من زيت الياسمين',
                    'أضف 10 مل من الزيت الناقل (زيت اللوز أو الجوجوبا)',
                    'امزج المكونات في زجاجة داكنة',
                    'ضع القليل على المعصمين وخلف الأذن قبل النوم'
                ],
                benefits: ['الاسترخاء', 'تحسين النوم', 'تقليل التوتر'],
                popular: true
            },
            {
                id: 'oatmeal-scrub',
                name: 'مقشر الشوفان اللطيف',
                category: 'skincare',
                difficulty: 'سهل',
                time: '10 دقائق',
                rating: 4.6,
                image: 'resources/wellness-ingredients.jpg',
                description: 'مقشر طبيعي يزيل الخلايا الميتة بلطف وينعم البشرة',
                ingredients: ['شوفان مطحون', 'عسل', 'لبن طبيعي', 'زيت لوز'],
                steps: [
                    'اطحن 3 ملاعق كبيرة من الشوفان حتى يصبح ناعماً',
                    'أضف ملعقة كبيرة من العسل',
                    'أضف ملعقتين من اللبن الطبيعي',
                    'أضف نصف ملعقة صغيرة من زيت اللوز',
                    'امزج جيداً واستخدم كمقشر لطيف مرتين أسبوعياً'
                ],
                benefits: ['إزالة الخلايا الميتة', 'تنعيم البشرة', 'ترطيب طبيعي'],
                popular: false
            },
            {
                id: 'ginger-immunity-shot',
                name: 'جرعة الزنجبيل للمناعة',
                category: 'health',
                difficulty: 'سهل',
                time: '10 دقائق',
                rating: 4.5,
                image: 'resources/product-herbs.jpg',
                description: 'مشروب قوي يرفع المناعة ويقاوم الأمراض',
                ingredients: ['زنجبيل طازج', 'ليمون طازج', 'عسل', 'ماء دافئ'],
                steps: [
                    'ابشر قطعة صغيرة من الزنجبيل الطازج',
                    'اعصر نصف ليمونة طازجة',
                    'اخلط الزنجبيل المبشور مع عصير الليمون',
                    'أضف ملعقة صغيرة من العسل',
                    'أضف كوباً من الماء الدافئ واشربه صباحاً'
                ],
                benefits: ['رفع المناعة', 'مضاد التهابات', 'طاقة طبيعية'],
                popular: false
            },
            {
                id: 'rose-t toner',
                name: 'تونر ماء الورد المتوازن',
                category: 'skincare',
                difficulty: 'سهل جداً',
                time: '5 دقائق',
                rating: 4.4,
                image: 'resources/product-collection.jpg',
                description: 'تونر طبيعي يوازن حموضة البشرة ويضيق المسام',
                ingredients: ['ماء ورد نقي', 'جل الصبار', 'زيت شاي أخضر'],
                steps: [
                    'اخلط نصف كوب من ماء الورد النقي',
                    'أضف ملعقتين صغيرتين من جل الصبار',
                    'أضف 3 قطرات من زيت الشاي الأخضر',
                    'امزج المكونات في زجاجة رذاذ نظيفة',
                    'رج الزجاجة قبل الاستخدام ورش على الوجه'
                ],
                benefits: ['توازن الحموضة', 'تضييق المسام', 'ترطيب خفيف'],
                popular: false
            }
        ];

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeRecipesPage();
        });

        function initializeRecipesPage() {
            loadRecipes();
            initializeRecipeBuilder();
            initializePopularRecipes();
            initializeScrollAnimations();
            loadCart();
        }

        function initializeRecipeBuilder() {
            // Ingredient selection
            document.querySelectorAll('.ingredient-card').forEach(card => {
                card.addEventListener('click', () => {
                    const ingredient = card.dataset.ingredient;
                    toggleIngredient(ingredient, card);
                });
            });
        }

        function toggleIngredient(ingredient, cardElement) {
            const index = selectedIngredients.indexOf(ingredient);
            
            if (index > -1) {
                // Remove ingredient
                selectedIngredients.splice(index, 1);
                cardElement.classList.remove('selected');
            } else {
                // Add ingredient
                selectedIngredients.push(ingredient);
                cardElement.classList.add('selected');
            }
            
            // Enable/disable next button
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = selectedIngredients.length === 0;
            
            // Animate selection
            anime({
                targets: cardElement,
                scale: [1, 1.1, 1],
                duration: 300,
                easing: 'easeOutElastic(1, .8)'
            });
        }

        function nextStep() {
            if (currentStep === 1 && selectedIngredients.length === 0) {
                showNotification('الرجاء اختيار مكونات أولاً', 'error');
                return;
            }
            
            currentStep++;
            updateProgressBar();
            
            if (currentStep === 2) {
                generatePreparationSteps();
                showStep('step-preparation');
            } else if (currentStep === 3) {
                generateFinalRecipe();
                showStep('step-results');
            }
        }

        function updateProgressBar() {
            for (let i = 1; i <= 3; i++) {
                const step = document.getElementById(`step-${i}`);
                if (i < currentStep) {
                    step.classList.remove('active');
                    step.classList.add('completed');
                } else if (i === currentStep) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active', 'completed');
                }
            }
        }

        function showStep(stepId) {
            document.querySelectorAll('.builder-step').forEach(step => {
                step.classList.add('hidden');
            });
            document.getElementById(stepId).classList.remove('hidden');
            
            // Animate step transition
            anime({
                targets: `#${stepId}`,
                opacity: [0, 1],
                translateY: [30, 0],
                duration: 600,
                easing: 'easeOutQuart'
            });
        }

        function generatePreparationSteps() {
            const stepsContainer = document.getElementById('recipe-steps');
            const steps = generateRecipeSteps(selectedIngredients);
            
            stepsContainer.innerHTML = `
                <div class="mb-6">
                    <h4 class="font-display text-xl font-bold text-forest-green mb-4">الوصفة المخصصة لك</h4>
                    <p class="text-charcoal-gray mb-6">بناءً على اختياراتك، إليك الوصفة المثالية:</p>
                </div>
                
                <div class="space-y-4">
                    ${steps.map((step, index) => `
                        <div class="step-card" id="preparation-step-${index}">
                            <div class="flex items-start">
                                <div class="w-8 h-8 bg-forest-green text-white rounded-full flex items-center justify-center font-bold mr-4 mt-1">
                                    ${index + 1}
                                </div>
                                <div class="flex-1">
                                    <p class="text-charcoal-gray leading-relaxed">${step}</p>
                                    ${index === steps.length - 1 ? `
                                        <div class="mt-4 p-4 bg-soft-mint rounded-xl">
                                            <p class="text-sm text-forest-green font-semibold">💡 نصيحة:</p>
                                            <p class="text-sm text-charcoal-gray">يمكنك تعديل الكميات حسب احتياجاتك الشخصية</p>
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="mt-8 p-6 bg-golden-honey/10 rounded-2xl">
                    <h5 class="font-bold text-forest-green mb-3">الفوائد المتوقعة:</h5>
                    <div class="grid md:grid-cols-2 gap-2">
                        ${generateBenefits(selectedIngredients).map(benefit => `
                            <div class="flex items-center">
                                <span class="w-2 h-2 bg-sage-green rounded-full mr-2"></span>
                                <span class="text-charcoal-gray text-sm">${benefit}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function generateFinalRecipe() {
            const recipeContainer = document.getElementById('final-recipe');
            const recipe = createCustomRecipe(selectedIngredients);
            
            recipeContainer.innerHTML = `
                <div class="bg-soft-mint rounded-2xl p-8 mb-6">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-forest-green rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-3xl text-white">✨</span>
                        </div>
                        <h3 class="font-display text-2xl font-bold text-forest-green">${recipe.name}</h3>
                        <p class="text-charcoal-gray mt-2">${recipe.description}</p>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-bold text-forest-green mb-3">المكونات:</h4>
                            <ul class="space-y-2">
                                ${recipe.ingredients.map(ingredient => `
                                    <li class="flex items-center">
                                        <span class="w-2 h-2 bg-sage-green rounded-full mr-2"></span>
                                        <span class="text-charcoal-gray">${ingredient}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-forest-green mb-3">الفوائد:</h4>
                            <ul class="space-y-2">
                                ${recipe.benefits.map(benefit => `
                                    <li class="flex items-center">
                                        <span class="w-2 h-2 bg-golden-honey rounded-full mr-2"></span>
                                        <span class="text-charcoal-gray">${benefit}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                    
                    <div class="mt-6 p-4 bg-white rounded-xl">
                        <h4 class="font-bold text-forest-green mb-3">طريقة الاستخدام:</h4>
                        <p class="text-charcoal-gray leading-relaxed">${recipe.usage}</p>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl p-6">
                    <h4 class="font-bold text-forest-green mb-4">نصائح مهمة:</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <h5 class="font-semibold text-sage-green mb-2">المدة الصلاحية:</h5>
                            <p class="text-charcoal-gray text-sm">${recipe.shelfLife}</p>
                        </div>
                        <div>
                            <h5 class="font-semibold text-sage-green mb-2">التكرار الم recommended:</h5>
                            <p class="text-charcoal-gray text-sm">${recipe.frequency}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateRecipeSteps(ingredients) {
            const steps = [];
            
            if (ingredients.includes('honey')) {
                steps.push('اخلط ملعقة كبيرة من العسل الطبيعي في وعاء نظيف');
            }
            
            if (ingredients.includes('turmeric')) {
                steps.push('أضف نصف ملعقة صغيرة من الكركم المطحون');
            }
            
            if (ingredients.includes('yogurt')) {
                steps.push('أضف ملعقة صغيرة من اللبن الطبيعي الطازج');
            }
            
            if (ingredients.includes('aloe')) {
                steps.push('أضف ملعقة صغيرة من جل الصبار الطبيعي');
            }
            
            if (ingredients.includes('oats')) {
                steps.push('أضف ملعقة صغيرة من الشوفان المطحون ناعماً');
            }
            
            if (ingredients.includes('rose')) {
                steps.push('أضف نصف ملعقة صغيرة من ماء الورد النقي');
            }
            
            if (ingredients.includes('lavender')) {
                steps.push('أضف 2-3 قطرات من زيت اللافندر الأساسي');
            }
            
            if (ingredients.includes('tea-tree')) {
                steps.push('أضف قطرة واحدة من زيت شجرة الشاي');
            }
            
            if (ingredients.includes('argan')) {
                steps.push('أضف نصف ملعقة صغيرة من زيت الأركان');
            }
            
            steps.push('امزج جميع المكونات جيداً حتى تحصل على خليط متجانس');
            steps.push('ضع الوصفة على بشرتك النظيفة واتركها لمدة 15-20 دقيقة');
            steps.push('اشطف بالماء الفاتر وجفف بلطف بمنشفة ناعمة');
            
            return steps;
        }

        function generateBenefits(ingredients) {
            const benefits = [];
            
            if (ingredients.includes('honey')) benefits.push('ترطيب عميق');
            if (ingredients.includes('turmeric')) benefits.push('مكافحة التهابات');
            if (ingredients.includes('yogurt')) benefits.push('تنعيم البشرة');
            if (ingredients.includes('aloe')) benefits.push('تهدئة البشرة');
            if (ingredients.includes('oats')) benefits.push('تقشير لطيف');
            if (ingredients.includes('rose')) benefits.push('توازن الحموضة');
            if (ingredients.includes('lavender')) benefits.push('الاسترخاء');
            if (ingredients.includes('tea-tree')) benefits.push('مكافحة البكتيريا');
            if (ingredients.includes('argan')) benefits.push('تغذية عميقة');
            
            return benefits.slice(0, 4); // Return max 4 benefits
        }

        function createCustomRecipe(ingredients) {
            const recipeNames = {
                'honey-turmeric': 'قناع العسل والكركم الذهبي',
                'honey-aloe': 'مرطب العسل والصبار',
                'oats-honey': 'مقشر الشوفان والعسل',
                'rose-lavender': 'تونر ماء الورد واللافندر'
            };
            
            const name = recipeNames[ingredients.slice(0, 2).sort().join('-')] || 'وصفتك الطبيعية المخصصة';
            
            return {
                name: name,
                description: 'وصفة طبيعية مصممة خصيصاً لك بناءً على اختياراتك المفضلة',
                ingredients: ingredients.map(ing => getIngredientName(ing)),
                benefits: generateBenefits(ingredients),
                usage: 'استخدمي الوصفة على بشرة نظيفة، اتركيها لمدة 15-20 دقيقة، ثم اشطفي بالماء الفاتر. كرري العملية 2-3 مرات أسبوعياً للحصول على أفضل النتائج.',
                shelfLife: 'يحفظ في الثلاجة لمدة 3-5 أيام في وعاء محكم الإغلاق',
                frequency: '2-3 مرات أسبوعياً للحصول على نتائج مثالية'
            };
        }

        function getIngredientName(ingredient) {
            const names = {
                'honey': 'عسل طبيعي',
                'turmeric': 'كركم مطحون',
                'yogurt': 'لبن طبيعي',
                'aloe': 'جل صبار',
                'oats': 'شوفان مطحون',
                'rose': 'ماء ورد',
                'lavender': 'زيت لافندر',
                'tea-tree': 'زيت شجرة شاي',
                'argan': 'زيت أركان'
            };
            return names[ingredient] || ingredient;
        }

        function loadRecipes() {
            renderRecipes(recipesDatabase);
        }

        function renderRecipes(recipes) {
            const grid = document.getElementById('recipes-grid');
            
            grid.innerHTML = recipes.map(recipe => `
                <div class="recipe-card fade-in" data-category="${recipe.category}">
                    <div class="relative">
                        <img src="${recipe.image}" alt="${recipe.name}" 
                             class="w-full h-48 object-cover">
                        <div class="absolute top-4 right-4 bg-golden-honey text-white px-3 py-1 rounded-full text-sm font-semibold">
                            ${recipe.difficulty}
                        </div>
                        <div class="absolute top-4 left-4 bg-sage-green text-white px-3 py-1 rounded-full text-sm font-semibold">
                            ${recipe.time}
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="font-display text-xl font-bold text-forest-green">${recipe.name}</h3>
                            <div class="flex items-center">
                                <span class="rating-stars">⭐</span>
                                <span class="text-sm text-charcoal-gray mr-1">${recipe.rating}</span>
                            </div>
                        </div>
                        
                        <p class="text-charcoal-gray text-sm mb-4 leading-relaxed">${recipe.description}</p>
                        
                        <div class="mb-4">
                            <h4 class="font-semibold text-sage-green mb-2">المكونات الرئيسية:</h4>
                            <div class="flex flex-wrap gap-2">
                                ${recipe.ingredients.slice(0, 3).map(ingredient => `
                                    <span class="bg-soft-mint text-forest-green px-2 py-1 rounded-full text-xs">
                                        ${ingredient}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="flex gap-2">
                            <button onclick="viewRecipe('${recipe.id}')" 
                                    class="btn-primary flex-1 py-2 rounded-full text-sm font-semibold">
                                مشاهدة الوصفة
                            </button>
                            <button onclick="saveRecipe('${recipe.id}')" 
                                    class="btn-secondary px-4 py-2 rounded-full text-sm">
                                💾
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Animate recipes
            anime({
                targets: '.recipe-card',
                opacity: [0, 1],
                translateY: [30, 0],
                delay: anime.stagger(100),
                duration: 600,
                easing: 'easeOutQuart'
            });
        }

        function filterRecipes(category) {
            // Update active tab
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            currentRecipeCategory = category;
            
            const filteredRecipes = category === 'all' 
                ? recipesDatabase 
                : recipesDatabase.filter(recipe => recipe.category === category);
            
            renderRecipes(filteredRecipes);
        }

        function initializePopularRecipes() {
            const popularRecipes = recipesDatabase.filter(recipe => recipe.popular);
            const list = document.getElementById('popular-recipes-list');
            
            list.innerHTML = popularRecipes.map(recipe => `
                <li class="splide__slide">
                    <div class="recipe-card mx-4">
                        <div class="relative">
                            <img src="${recipe.image}" alt="${recipe.name}" 
                                 class="w-full h-48 object-cover">
                            <div class="absolute top-4 right-4 bg-golden-honey text-white px-3 py-1 rounded-full text-sm font-semibold">
                                الأكثر شعبية
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <h3 class="font-display text-xl font-bold text-forest-green mb-2">${recipe.name}</h3>
                            <p class="text-charcoal-gray text-sm mb-4">${recipe.description}</p>
                            
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-sm text-sage-green font-semibold">${recipe.time}</span>
                                <div class="flex items-center">
                                    <span class="rating-stars">⭐</span>
                                    <span class="text-sm text-charcoal-gray mr-1">${recipe.rating}</span>
                                </div>
                            </div>
                            
                            <button onclick="viewRecipe('${recipe.id}')" 
                                    class="btn-primary w-full py-2 rounded-full text-sm font-semibold">
                                مشاهدة الوصفة
                            </button>
                        </div>
                    </div>
                </li>
            `).join('');
            
            // Initialize carousel
            new Splide('#popular-recipes', {
                type: 'loop',
                perPage: 3,
                perMove: 1,
                gap: '2rem',
                autoplay: true,
                interval: 4000,
                pauseOnHover: true,
                breakpoints: {
                    768: {
                        perPage: 1,
                    },
                    1024: {
                        perPage: 2,
                    }
                }
            }).mount();
        }

        function viewRecipe(recipeId) {
            const recipe = recipesDatabase.find(r => r.id === recipeId);
            if (!recipe) return;
            
            // Create recipe modal
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                    <div class="p-8">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="font-display text-3xl font-bold text-forest-green">${recipe.name}</h2>
                            <button onclick="this.closest('.fixed').remove()" class="text-charcoal-gray hover:text-sage-green text-3xl">&times;</button>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <img src="${recipe.image}" alt="${recipe.name}" class="w-full h-64 object-cover rounded-2xl mb-4">
                                
                                <div class="bg-soft-mint rounded-xl p-4">
                                    <h4 class="font-bold text-forest-green mb-3">معلومات الوصفة:</h4>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-charcoal-gray">المدة:</span>
                                            <span class="font-semibold text-forest-green">${recipe.time}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-charcoal-gray">الصعوبة:</span>
                                            <span class="font-semibold text-forest-green">${recipe.difficulty}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-charcoal-gray">التقييم:</span>
                                            <span class="font-semibold text-forest-green">⭐ ${recipe.rating}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <p class="text-charcoal-gray mb-6 leading-relaxed">${recipe.description}</p>
                                
                                <div class="mb-6">
                                    <h4 class="font-bold text-forest-green mb-3">المكونات:</h4>
                                    <ul class="space-y-2">
                                        ${recipe.ingredients.map(ingredient => `
                                            <li class="flex items-center">
                                                <span class="w-2 h-2 bg-sage-green rounded-full mr-2"></span>
                                                <span class="text-charcoal-gray">${ingredient}</span>
                                            </li>
                                        `).join('')}
                                    </ul>
                                </div>
                                
                                <div class="mb-6">
                                    <h4 class="font-bold text-forest-green mb-3">الخطوات:</h4>
                                    <ol class="space-y-2">
                                        ${recipe.steps.map((step, index) => `
                                            <li class="flex items-start">
                                                <span class="w-6 h-6 bg-forest-green text-white rounded-full flex items-center justify-center text-xs font-bold mr-2 mt-0.5">
                                                    ${index + 1}
                                                </span>
                                                <span class="text-charcoal-gray flex-1">${step}</span>
                                            </li>
                                        `).join('')}
                                    </ol>
                                </div>
                                
                                <div class="mb-6">
                                    <h4 class="font-bold text-forest-green mb-3">الفوائد:</h4>
                                    <div class="grid grid-cols-2 gap-2">
                                        ${recipe.benefits.map(benefit => `
                                            <div class="flex items-center">
                                                <span class="w-2 h-2 bg-golden-honey rounded-full mr-2"></span>
                                                <span class="text-charcoal-gray text-sm">${benefit}</span>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                                
                                <div class="flex gap-3">
                                    <button onclick="saveRecipe('${recipe.id}')" 
                                            class="btn-primary flex-1 py-3 rounded-full font-semibold">
                                        حفظ الوصفة
                                    </button>
                                    <button onclick="shareRecipe('${recipe.id}')" 
                                            class="btn-secondary px-6 py-3 rounded-full font-semibold">
                                        مشاركة
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Animate modal
            anime({
                targets: modal,
                opacity: [0, 1],
                duration: 300,
                easing: 'easeOutQuart'
            });
        }

        function saveRecipe(recipeId) {
            // Save to localStorage
            const savedRecipes = JSON.parse(localStorage.getItem('saved-recipes') || '[]');
            if (!savedRecipes.includes(recipeId)) {
                savedRecipes.push(recipeId);
                localStorage.setItem('saved-recipes', JSON.stringify(savedRecipes));
                showNotification('تم حفظ الوصفة بنجاح!', 'success');
            } else {
                showNotification('الوصفة محفوظة بالفعل', 'info');
            }
        }

        function shareRecipe(recipeId) {
            if (navigator.share) {
                navigator.share({
                    title: 'وصفة طبيعية من ريبيو',
                    text: 'اكتشف هذه الوصفة الطبيعية الرائعة!',
                    url: window.location.href
                });
            } else {
                // Fallback - copy to clipboard
                navigator.clipboard.writeText(window.location.href);
                showNotification('تم نسخ الرابط للمشاركة!', 'success');
            }
        }

        function resetBuilder() {
            currentStep = 1;
            selectedIngredients = [];
            
            // Reset UI
            document.querySelectorAll('.ingredient-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            document.getElementById('next-btn').disabled = true;
            updateProgressBar();
            showStep('step-ingredients');
        }

        // Initialize scroll animations
        function initializeScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
        }
    </script>
    <script src="main.js"></script>
</body>
</html>